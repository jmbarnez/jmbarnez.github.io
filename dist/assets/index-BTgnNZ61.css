.login-controls{position:fixed;top:20px;right:20px;display:flex;gap:8px;z-index:50000}.login-controls .header-btn{width:40px;height:40px;border:2px solid var(--border-color);background:var(--bg-panel);color:var(--text-primary);border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:var(--medieval-shadow)}.login-controls .header-btn:hover{background:var(--bg-hover);border-color:var(--border-highlight);transform:translateY(-1px)}.login-controls .header-btn svg{width:16px;height:16px}.login-controls .mute-toggle.muted svg{opacity:.5}.login-screen{position:fixed;top:0;right:0;bottom:0;left:0;background:var(--bg-primary);background-image:var(--beach-bg-url, url(/assets/beach-background.jpg));background-size:cover;background-position:center;background-repeat:no-repeat;display:grid;place-items:center;z-index:40000}.login-screen[hidden],body.login-mode .bottom-ui-panel,body.login-mode #desktop-panels{display:none!important}body.login-mode .content-panel{filter:blur(2px);pointer-events:none}body:not(.login-mode) .login-controls{display:none!important}.collect-all-btn{background:var(--bg-panel);border:1px solid var(--border-primary);color:var(--text-secondary);transition:all var(--transition-fast);position:relative;overflow:hidden}.collect-all-btn:hover{background:var(--bg-active);border-color:var(--border-highlight);color:var(--text-highlight);transform:translateY(-1px);box-shadow:0 4px 8px #0003}.collect-all-btn:active{transform:translateY(0);box-shadow:0 2px 4px #0003}.collect-all-btn svg{transition:all var(--transition-fast)}.collect-all-btn:hover svg{transform:scale(1.1);filter:drop-shadow(0 0 4px currentColor)}.collect-all-btn.collecting{animation:collectPulse .6s ease-out}@keyframes collectPulse{0%{transform:scale(1)}50%{transform:scale(1.15);background:var(--bg-active)}to{transform:scale(1)}}.discoveries{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;pointer-events:none;z-index:3}.discovery-card{background:transparent;border:none;box-shadow:none;display:grid;grid-template-rows:56px auto;place-items:center;width:56px;height:auto;position:absolute;overflow:visible;padding:0;animation:none;transition:none;cursor:pointer}.discovery-card:hover{transform:scale(1.2);transition:transform .12s ease}.ground-item{background:transparent;border:none;box-shadow:none;display:grid;grid-template-rows:56px auto;place-items:center;width:56px;height:auto;position:absolute;overflow:visible;padding:0;animation:none;transition:none;cursor:grab;pointer-events:auto;z-index:4}.ground-item:hover{transform:scale(1.2);transition:transform .12s ease}.ground-item.dragging{cursor:grabbing;opacity:.8;z-index:1000;transform:scale(1.1)}.drag-over{background:#00ff001a;box-shadow:inset 0 0 20px #0f03}#ground-trash{margin-left:8px;color:#ff4d4f}#ground-trash:hover{color:#ff7a7c}.discovery-card.dragging{cursor:grabbing}.discovery-card,.save-slot{text-align:center}.disc-icon{width:56px;height:56px;display:grid;place-items:center}.disc-icon svg{width:100%;height:100%;filter:drop-shadow(0 1px 1px rgba(0,0,0,.35))}.discovery-title{display:inline-block;margin-top:1px;font-size:10px;font-family:"Press Start 2P",monospace;color:var(--text-primary);background:var(--bg-primary);border:1px solid var(--border-primary);box-shadow:var(--vintage-shadow);border-radius:var(--radius-sm);padding:3px 6px;line-height:1.2;white-space:nowrap}.disc-qty,.discovery-actions{display:none}.discovery-card[data-category=treasure]{border-color:#d4af37;box-shadow:var(--raised-border),var(--medieval-shadow),var(--gold-glow)}.discovery-card[data-category=ground]{border-color:#8b7355}.discovery-card[data-category=location]{border-color:#8b5cf6}.skilling-zones{position:absolute;top:0;left:0;right:0;bottom:0;display:block;pointer-events:none;padding:0;z-index:2}.zone-card{display:grid;grid-template-columns:36px 1fr;gap:var(--spacing-sm);align-items:center;background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);box-shadow:var(--medieval-shadow),var(--raised-border);padding:6px 8px;position:relative;pointer-events:auto}.skilling-zones .zone-card{position:absolute;left:16px;top:16px}.zone-card.fishing-zone{width:100%;max-width:none}.zone-card.dragging{cursor:default}.zone-card.theme-beach{border-color:#5aa9d6;box-shadow:var(--medieval-shadow),var(--raised-border),0 0 12px #5aa9d626}.zone-card.theme-forest{border-color:#406b40;box-shadow:var(--medieval-shadow),var(--raised-border),0 0 12px #406b402e}.zone-card .zone-popover{position:absolute;left:0;top:calc(100% + 6px);background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);box-shadow:var(--medieval-shadow);padding:8px;width:240px;display:none;z-index:20}.zone-card.open .zone-popover{display:block}.zone-popover .pop-title{font-size:10px;font-weight:700;margin-bottom:6px;color:var(--text-primary)}.zone-popover .catch-row{display:grid;grid-template-columns:20px 1fr auto;gap:8px;align-items:center;padding:2px 0}.zone-popover .catch-icon svg{width:18px;height:18px}.zone-popover .catch-name{font-size:10px;color:var(--text-primary)}.zone-popover .catch-req{font-size:9px;color:var(--text-secondary)}.zone-popover .unknown .catch-name{color:var(--text-secondary)}.zone-popover .unknown .catch-icon{filter:grayscale(100%);opacity:.6}.zone-card .zone-icon svg{width:28px;height:28px;filter:none}.zone-card .zone-title{display:none}.zone-card .zone-desc{font-size:10px;color:var(--text-secondary);margin-top:0;line-height:1.2}.zone-card .zone-req{font-size:9px;margin-top:2px;color:var(--text-primary)}.zone-card.missing .zone-req{color:#b91c1c}.zone-card .zone-controls{display:flex;align-items:center;gap:6px;margin-top:4px}.zone-card .zone-action{padding:4px 8px;font-size:10px;display:inline-flex;align-items:center;gap:6px}.zone-card .zone-action .loc-status-dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#ff4d4f;box-shadow:none}.zone-card.active .zone-action .loc-status-dot{background:#10b981}.zone-card.active{border-color:var(--border-highlight);box-shadow:var(--raised-border),var(--medieval-shadow),0 0 10px #5aa9d640}.zone-card.require-missing{animation:zoneNudge .5s ease}@keyframes zoneNudge{0%{transform:translate(0)}25%{transform:translate(-2px)}50%{transform:translate(2px)}75%{transform:translate(-2px)}to{transform:translate(0)}}@keyframes discPop{0%{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}.discovery-card{transform-origin:center}.discovery-card.newly-added{animation:discPop .22s ease-out,discRise .32s ease-out}.discovery-card.dragging{cursor:grabbing;box-shadow:none;z-index:2000}@keyframes discRise{0%{transform:translateY(8px)}to{transform:translateY(0)}}.fly-item{position:fixed;width:28px;height:28px;pointer-events:none;z-index:9999;transition:transform .5s ease,opacity .5s ease}.xp-float{position:fixed;color:#fff;background:#0009;padding:2px 6px;border-radius:3px;font-size:12px;font-family:"Press Start 2P",monospace;pointer-events:none;z-index:9999;animation:xpFloat .9s ease forwards}@keyframes xpFloat{0%{opacity:0;transform:translateY(0)}10%{opacity:1}to{opacity:0;transform:translateY(-24px)}}:root{--bg-primary: #ffffff;--bg-secondary: #f1f5f9;--bg-tertiary: #e2e8f0;--bg-panel: #ffffff;--bg-accent: #f1f5f9;--bg-parchment: #ffffff;--border-primary: #94a3b8;--border-secondary: #cbd5e1;--border-highlight: #3b82f6;--border-metal: #94a3b8;--text-primary: #1e293b;--text-secondary: #64748b;--text-accent: #1d4ed8;--text-highlight: #2563eb;--text-parchment: #1e293b;--hp-color: #ef4444;--stamina-color: #f59e0b;--mana-color: #3b82f6;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 12px;--spacing-lg: 16px;--spacing-xl: 24px;--medieval-shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--inset-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .06);--raised-border: 0 1px 2px 0 rgba(0, 0, 0, .05);--sunken-border: inset 0 2px 4px 0 rgba(0, 0, 0, .1);--focus-glow-color: #3b82f6;--blue-glow: 0 0 20px rgba(59, 130, 246, .3);--border-width: 1px;--border-thick: 2px;--transition-fast: .15s ease;--transition-medium: .3s ease;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--pastel-blue: #dbeafe;--pastel-purple: #e9d5ff;--pastel-green: #dcfce7;--warm-beige: #fef3c7;--warm-peach: #fed7aa;--warm-coral: #fecaca;--shadow-color: rgba(0, 0, 0, .1);--glow-sm: 0 0 10px;--glow-md: 0 0 15px;--glow-lg: 0 0 25px;--gold-glow: 0 0 20px rgba(245, 158, 11, .4);--warm-glow: 0 0 15px rgba(249, 115, 22, .3);--warm-shadow: 0 0 10px rgba(249, 115, 22, .2);--vintage-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--disc-card-min: 140px;--save-card-min: 120px}body[data-theme=dark]{--bg-primary: #1a1a1a;--bg-secondary: #2d2d2d;--bg-tertiary: #404040;--bg-panel: #262626;--bg-accent: #333333;--bg-parchment: #0f0f0f;--border-primary: #525252;--border-secondary: #737373;--border-highlight: var(--focus-glow-color);--border-metal: #6b7280;--text-primary: #f5f5f5;--text-secondary: #d4d4d8;--text-accent: #e4e4e7;--text-highlight: var(--focus-glow-color);--text-parchment: #f5f5f5;--hp-color: #ef4444;--stamina-color: #f59e0b;--mana-color: #3b82f6;--medieval-shadow: 0 4px 6px -1px rgba(0, 0, 0, .4), 0 2px 4px -1px rgba(0, 0, 0, .3);--inset-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, .3);--raised-border: 0 1px 2px 0 rgba(255, 255, 255, .1);--sunken-border: inset 0 2px 4px 0 rgba(0, 0, 0, .4);--focus-glow-color: #5aa9d6;--blue-glow: 0 0 20px var(--focus-glow-color);--pastel-blue: #1e40af;--pastel-purple: #7c3aed;--pastel-green: #059669;--warm-beige: #d97706;--warm-peach: #ea580c;--warm-coral: #dc2626;--shadow-color: rgba(0, 0, 0, .4);--glow-sm: 0 0 10px;--glow-md: 0 0 15px;--glow-lg: 0 0 25px;--gold-glow: 0 0 20px rgba(245, 158, 11, .4);--warm-glow: 0 0 15px var(--focus-glow-color);--warm-shadow: 0 0 10px var(--focus-glow-color);--vintage-shadow: 0 1px 3px 0 rgba(0, 0, 0, .3), 0 1px 2px 0 rgba(0, 0, 0, .2)}*{box-sizing:border-box}html,body{height:100%;margin:0;padding:0}body{font-family:"Press Start 2P",monospace;background:radial-gradient(ellipse at center,var(--bg-secondary) 0%,var(--bg-primary) 100%);background-attachment:fixed;color:var(--text-primary);line-height:1.6;overflow:hidden;font-size:12px;position:relative;image-rendering:pixelated}body:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(45deg,transparent,transparent 1px,rgba(59,130,246,.02) 1px,rgba(59,130,246,.02) 2px);pointer-events:none;z-index:1;opacity:.3}body[data-theme=dark]:before{background:linear-gradient(rgba(82,82,82,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(82,82,82,.1) 1px,transparent 1px);background-size:20px 20px;opacity:.3}body[data-theme=dark]:after{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 25% 25%,var(--focus-glow-color) 0%,transparent 70%),radial-gradient(circle at 75% 75%,var(--focus-glow-color) 0%,transparent 70%);pointer-events:none;z-index:1;opacity:.05;animation:subtleGlow 6s ease-in-out infinite alternate}@keyframes subtleGlow{0%{opacity:.03}to{opacity:.08}}#game{min-height:100vh;height:auto;display:grid;grid-template-rows:auto 1fr;position:relative;z-index:1}.game-header{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-sm);background:linear-gradient(180deg,var(--bg-accent) 0%,var(--bg-panel) 100%);border:var(--border-thick) solid var(--border-primary);border-bottom:var(--border-thick) solid var(--border-secondary);box-shadow:var(--medieval-shadow),var(--raised-border);position:relative;gap:var(--spacing-sm)}.game-header:before{content:"";position:absolute;top:2px;left:2px;right:2px;height:1px;background:linear-gradient(90deg,transparent,var(--border-highlight),transparent);box-shadow:var(--blue-glow)}.header-left{display:flex;align-items:center;flex:1;min-width:0}.player-vitals{display:flex;gap:var(--spacing-sm);flex:1;min-width:0}.vital-bar{display:flex;align-items:center;gap:6px;flex:1;min-width:100px;position:relative}.vital-icon{width:14px;height:14px;flex-shrink:0;fill:currentColor;image-rendering:pixelated}.skill-icon-large{image-rendering:pixelated}.skills-grid .skill-card{filter:none}.hp .vital-icon{color:var(--hp-color)}.stamina .vital-icon{color:var(--stamina-color)}.mana .vital-icon{color:var(--mana-color)}.vital-track{flex:1;height:14px;background:var(--bg-tertiary);border:var(--border-width) solid var(--border-primary);overflow:hidden;position:relative;box-shadow:var(--sunken-border),var(--inset-shadow);min-width:0}.vital-track:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent)}.vital-track span{display:block;height:100%;border-radius:0;transition:width var(--transition-medium)}.hp .vital-track span{background:linear-gradient(90deg,var(--hp-color),#B71C1C);box-shadow:var(--raised-border)}.stamina .vital-track span{background:linear-gradient(90deg,var(--stamina-color),#E65100);box-shadow:var(--raised-border)}.mana .vital-track span{background:linear-gradient(90deg,var(--mana-color),#1565C0);box-shadow:var(--raised-border)}.header-right{display:flex;align-items:center;gap:var(--spacing-sm)}.header-right .header-actions{order:1}.header-right .header-loc{order:2;margin-left:var(--spacing-sm)}.header-right .header-loc .location-menu{right:0;left:auto}.clock{font-family:"Press Start 2P",monospace;font-size:10px;color:var(--text-primary);background:var(--bg-tertiary);padding:var(--spacing-xs) var(--spacing-sm);border:var(--border-width) solid var(--border-primary);box-shadow:var(--sunken-border),var(--medieval-shadow);image-rendering:pixelated}@keyframes clockFlicker{0%,to{opacity:1}50%{opacity:.9}}.header-actions{display:flex;gap:var(--spacing-xs);align-items:center;justify-content:center}.settings-btn svg{width:16px;height:16px}.settings-panel{position:absolute;right:var(--spacing-md);top:calc(100% + 6px);background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);box-shadow:var(--medieval-shadow);padding:var(--spacing-md);z-index:1000;min-width:260px}.save-slots .save-slot{background:var(--bg-tertiary);border:var(--border-width) solid var(--border-primary);box-shadow:var(--sunken-border);padding:6px}.save-slots .save-slot.empty .slot-row{justify-content:stretch}.save-slots .save-slot.empty .slot-actions{width:100%}.save-slot .slot-row{display:flex;align-items:center;justify-content:space-between;gap:6px}.save-slot .slot-actions{display:flex;gap:6px}.save-slot .slot-meta{font-size:10px;color:var(--text-secondary);margin-top:4px}.settings-group{display:flex;flex-direction:column;gap:var(--spacing-sm)}.settings-title{font-family:"Press Start 2P",monospace;font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--text-secondary);border-bottom:1px solid var(--border-secondary);padding-bottom:var(--spacing-xs);margin-bottom:var(--spacing-xs)}.settings-row{display:flex;gap:var(--spacing-sm);align-items:center}.settings-panel .primary-btn svg{width:14px;height:14px;filter:none}.settings-panel .primary-btn{padding:8px 10px}.audio-controls{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs);background:var(--bg-tertiary);border:var(--border-width) solid var(--border-primary);border-radius:var(--spacing-xs);box-shadow:var(--sunken-border)}.audio-toggle{font-size:12px!important;padding:var(--spacing-xs)!important;min-width:24px;background:var(--bg-panel)!important}.audio-toggle:after{content:"🔊";font-size:12px}.audio-toggle.muted{opacity:.5}.audio-toggle.muted:after{content:"🔇"}.volume-control{display:flex;align-items:center}.volume-slider{width:60px;height:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:var(--bg-accent);border:1px solid var(--border-primary);outline:none;border-radius:0;image-rendering:pixelated}.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:12px;height:16px;background:var(--border-highlight);border:1px solid var(--border-primary);cursor:pointer;border-radius:0;box-shadow:var(--raised-border)}.volume-slider::-moz-range-thumb{width:12px;height:16px;background:var(--border-highlight);border:1px solid var(--border-primary);cursor:pointer;border-radius:0;box-shadow:var(--raised-border)}.volume-slider::-webkit-slider-track{background:linear-gradient(to right,var(--mana-color) 0%,var(--stamina-color) 50%,var(--hp-color) 100%);height:8px;border:1px solid var(--border-secondary);box-shadow:var(--inset-shadow)}.volume-slider::-moz-range-track{background:linear-gradient(to right,var(--mana-color) 0%,var(--stamina-color) 50%,var(--hp-color) 100%);height:8px;border:1px solid var(--border-secondary);box-shadow:var(--inset-shadow)}.header-btn{background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);padding:var(--spacing-xs);cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;color:var(--text-primary);box-shadow:var(--raised-border);width:32px;height:32px;border-radius:4px}.header-btn:hover{background:var(--bg-accent);border-color:var(--border-highlight);color:var(--text-highlight);box-shadow:var(--raised-border)}.header-btn:active{box-shadow:var(--sunken-border),var(--inset-shadow);transform:translateY(1px)}.header-btn svg{width:14px;height:14px;fill:currentColor}.inventory-header .header-btn:focus-visible{outline:none;box-shadow:0 0 0 2px var(--focus-glow-color) inset,var(--raised-border)}.main-nav{display:flex;background:var(--bg-secondary);border-bottom:var(--border-thick) solid var(--border-primary);padding:var(--spacing-xs);box-shadow:var(--inset-shadow);gap:var(--spacing-xs);align-items:center}.nav-tab{background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);padding:var(--spacing-sm) var(--spacing-md);cursor:pointer;display:flex;align-items:center;gap:var(--spacing-sm);color:var(--text-primary);transition:all var(--transition-fast);font-size:10px;text-transform:uppercase;letter-spacing:1px;font-family:"Press Start 2P",monospace;position:relative;image-rendering:pixelated;box-shadow:var(--raised-border),var(--medieval-shadow)}.nav-tab:hover{background:var(--bg-accent)}.nav-tab.active{background:var(--bg-parchment)}.location-badge.active{border-color:var(--border-primary);box-shadow:var(--raised-border),var(--medieval-shadow)}.location-badge{cursor:pointer;transition:background var(--transition-fast),box-shadow var(--transition-fast),transform var(--transition-fast),border-color var(--transition-fast)}.location-badge:hover{transform:translateY(-1px)}.location-badge:active{transform:translateY(0)}.location-badge:focus-visible{outline:2px solid var(--border-highlight);outline-offset:2px}.location-badge .caret{margin-left:8px;font-size:10px;opacity:.8;transition:transform var(--transition-fast)}.location-badge[aria-expanded=true] .caret{transform:rotate(180deg)}.nav-tab:active{box-shadow:var(--sunken-border),var(--inset-shadow)}.nav-tab .tab-icon{width:14px;height:14px;fill:currentColor;image-rendering:pixelated;filter:none}.location-badge{margin-left:auto;display:flex;align-items:center;gap:var(--spacing-sm);padding:4px 8px;border:var(--border-width) solid var(--border-primary);box-shadow:var(--raised-border),var(--medieval-shadow);font-family:"Press Start 2P",monospace;font-size:10px;letter-spacing:1px}.location-badge .loc-icon{font-size:12px}.location-badge.beach{background:linear-gradient(135deg,#b0e0e6,#87ceeb 45%,khaki 80%);color:#1b365d;border-color:#5aa9d6}body[data-theme=dark] .location-badge.beach{background:linear-gradient(135deg,#2f4f4f,#22577a 45%,#8b7355 80%);color:#e0f7ff;border-color:#3a7ea8}.location-badge.forest{background:linear-gradient(135deg,#3a5f3a,#2f4f2f 60%,#d5e3b4);color:#f4fff0;border-color:#406b40}body[data-theme=dark] .location-badge.forest{background:linear-gradient(135deg,#1f2e1f,#2f4f2f 60%,#556b2f);color:#e5ffea;border-color:#2e5b2e}.location-picker{position:relative;margin-left:auto}.location-badge .caret{margin-left:8px;font-size:10px}.location-badge .loc-status-dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-left:6px;background:#ff4d4f;box-shadow:none}.location-badge.exploring .loc-status-dot{background:#10b981;animation:none}.location-badge.discovered .loc-status-dot{background:#f59e0b;animation:none}@keyframes locPulse{0%{box-shadow:0 0 #10b98199}70%{box-shadow:0 0 0 10px #10b98100}to{box-shadow:0 0 #10b98100}}.location-menu{position:absolute;right:0;top:100%;background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);box-shadow:var(--medieval-shadow);list-style:none;margin:4px 0 0;padding:4px 0;display:none;z-index:1000;width:220px}.location-menu.open{display:block}.location-menu li{padding:8px 10px;cursor:pointer;display:flex;align-items:center;gap:8px}.location-menu li:hover{background:var(--bg-tertiary)}.location-menu li.active{background:#00000014}.game-content{flex:1;overflow:hidden;position:relative;background:transparent}.game-content.drag-over{outline:2px dashed rgba(255,255,255,.4);outline-offset:-6px}.content-panel{display:none;height:100%;overflow:hidden;padding:0}.content-panel.active{display:block;min-height:calc(100vh - 80px)}.explore-area{max-width:1000px;margin:0 auto}.activity-section{background:transparent;border:none;padding:0;box-shadow:none;position:relative;margin:0}.activity-section .primary-btn[aria-busy=true]:after{content:"...";margin-left:6px;opacity:.8}.explore-hero{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;gap:12px;padding:0;min-height:0;margin:0;width:100%;z-index:1;pointer-events:none}.explore-hero .primary-btn.explore-toggle{padding:16px 28px;position:relative;overflow:visible;pointer-events:auto}.explore-hero .primary-btn.explore-toggle:hover{transform:translateY(-2px) scale(1.02)}.explore-hero .primary-btn.explore-toggle:active{transform:translateY(0)}.explore-hero .primary-btn.explore-toggle svg{width:18px;height:18px;filter:none}.explore-hero .collect-all-btn{pointer-events:auto;background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);padding:16px;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;color:var(--text-primary);box-shadow:var(--raised-border);border-radius:var(--radius-sm)}.explore-hero .collect-all-btn:hover{background:var(--bg-accent);border-color:var(--border-highlight);color:var(--text-highlight);transform:translateY(-2px) scale(1.05);box-shadow:var(--raised-border)}.explore-hero .collect-all-btn:active{box-shadow:var(--sunken-border),var(--inset-shadow);transform:translateY(0)}.explore-hero .collect-all-btn svg{width:26px;height:26px}.explore-hero .primary-btn.explore-toggle.exploring{color:inherit;border-color:inherit}.explore-hero .primary-btn.explore-toggle .pulse-ring{position:absolute;top:-16px;right:-16px;bottom:-16px;left:-16px;border-radius:50%;pointer-events:none;box-shadow:0 0 #ff8c0059;animation:none}.explore-hero .primary-btn.explore-toggle.exploring .pulse-ring{animation:explorePulseRing 1.8s ease-out infinite}@keyframes explorePulseRing{0%{box-shadow:0 0 #ff8c0059}70%{box-shadow:0 0 0 18px #ff8c0000}to{box-shadow:0 0 #ff8c0000}}.activity-section:before{content:none}.activity-section h2,.activity-section h3{margin:0 0 var(--spacing-lg) 0;color:#e6e6e6;font-size:14px;font-weight:400;text-transform:uppercase;letter-spacing:1px;font-family:"Press Start 2P",monospace;text-shadow:var(--medieval-shadow)}@keyframes titleGlow{0%{text-shadow:var(--glow-md) var(--pastel-green)}to{text-shadow:var(--glow-lg) var(--pastel-green)}}.activity-controls{display:flex;align-items:center;gap:var(--spacing-xl)}.primary-btn{background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);padding:var(--spacing-md) var(--spacing-lg);color:var(--text-primary);font-size:10px;cursor:pointer;display:flex;align-items:center;gap:var(--spacing-sm);transition:all var(--transition-fast);text-transform:uppercase;letter-spacing:1px;font-family:"Press Start 2P",monospace;position:relative;box-shadow:var(--raised-border),var(--medieval-shadow)}#resetAccountBtn{background:#7f1d1d;border-color:#991b1b;color:#fff}#resetAccountBtn:hover{background:#991b1b;border-color:#b91c1c}#resetAccountBtn:active{background:#7f1d1d}.explore-toggle{min-width:180px;justify-content:center}.explore-toggle .pulse-dot{width:10px;height:10px;border-radius:50%;background:var(--stamina-color);box-shadow:0 0 #ff8c00b3;animation:none}.explore-toggle.active .pulse-dot{animation:explorePulse 1.6s ease-in-out infinite}@keyframes explorePulse{0%{box-shadow:0 0 #ff8c00b3;opacity:1}70%{box-shadow:0 0 0 12px #ff8c0000;opacity:.7}to{box-shadow:0 0 #ff8c0000;opacity:1}}.primary-btn:hover{background:var(--bg-accent);border-color:var(--border-highlight);color:var(--text-highlight);box-shadow:var(--raised-border)}.primary-btn:active{box-shadow:var(--sunken-border),var(--inset-shadow);transform:translateY(1px)}.primary-btn:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}.primary-btn svg{width:24px;height:24px;fill:currentColor;filter:drop-shadow(var(--glow-sm) currentColor)}.activity-info{flex:1}.status{font-size:1.2rem;color:var(--text-primary);margin-bottom:var(--spacing-sm);font-weight:700;font-family:"Press Start 2P",monospace}.fishing-stats{display:flex;gap:var(--spacing-sm);font-size:.8rem;color:var(--text-secondary);font-family:VT323,monospace}.fishing-stats strong{color:var(--warm-beige);text-shadow:var(--warm-shadow)}.character-layout{position:relative;height:calc(100vh - 220px);overflow:visible}.skills-panel{background:linear-gradient(135deg,var(--bg-panel),var(--bg-secondary));border:var(--border-thick) solid var(--border-primary);padding:var(--spacing-sm);box-shadow:var(--medieval-shadow),var(--raised-border);position:absolute;width:fit-content;min-width:280px;z-index:6}.equipment-panel{background:linear-gradient(135deg,var(--bg-panel),var(--bg-secondary));border:var(--border-thick) solid var(--border-primary);padding:var(--spacing-sm);overflow:hidden;box-shadow:var(--medieval-shadow),var(--raised-border);position:absolute;width:fit-content;min-width:240px}.inventory-panel{background:linear-gradient(135deg,var(--bg-panel),var(--bg-secondary));border:var(--border-thick) solid var(--border-primary);padding:var(--spacing-sm);overflow:hidden;box-shadow:var(--medieval-shadow),var(--raised-border);position:absolute;width:fit-content;min-width:260px;z-index:6}.zones-list{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-sm);max-width:720px}.zones-list .zone-card{width:100%}.zone-card .zone-desc,.zone-card .zone-req{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.zone-card.locked{opacity:.7}.zone-card .tool-indicator{margin-left:auto;font-size:10px}.zone-card .tool-indicator.missing{color:#b91c1c}.equipment-panel:before,.inventory-panel:before,.skills-panel:before{content:"";position:absolute;top:var(--border-thick);left:var(--border-thick);right:var(--border-thick);height:1px;background:linear-gradient(90deg,transparent,var(--border-highlight),transparent);box-shadow:var(--blue-glow)}.equipment-panel{display:flex;flex-direction:column;z-index:6}.inventory-panel{display:flex;flex-direction:column;min-height:0;height:fit-content;max-height:80vh;overflow:visible}.draggable-panel{cursor:default}.drag-handle{cursor:grab;-webkit-user-select:none;user-select:none;position:relative}.draggable-panel.dragging .drag-handle{cursor:grabbing}.draggable-panel.dragging{opacity:.9;box-shadow:0 8px 18px #00000059,var(--raised-border)}.equipment-panel h2,.inventory-panel h2,.skills-panel h2{margin:0 0 var(--spacing-sm) 0;color:var(--text-primary);font-size:14px;font-weight:400;text-transform:uppercase;letter-spacing:1px;font-family:"Press Start 2P",monospace;text-shadow:none}.equipment-paperdoll{display:grid;grid-template-areas:"helmet helmet amulet" "gloves chest ring1" "shoes pants ring2";grid-template-columns:repeat(3,1fr);gap:var(--spacing-sm);margin-bottom:var(--spacing-lg);flex-shrink:0}.equipment-slot{display:flex;flex-direction:column;align-items:center;padding:var(--spacing-sm);background:linear-gradient(135deg,var(--bg-accent),var(--bg-panel));border:var(--border-width) solid var(--border-primary);transition:all var(--transition-fast);cursor:pointer;min-height:70px;position:relative;box-shadow:var(--sunken-border),var(--inset-shadow)}.equipment-slot:hover{background:linear-gradient(135deg,var(--bg-parchment),var(--bg-accent));border-color:var(--border-highlight);box-shadow:var(--raised-border);transform:translateY(-1px)}.equipment-slot[data-slot=helmet]{grid-area:helmet}.equipment-slot[data-slot=amulet]{grid-area:amulet}.equipment-slot[data-slot=chest]{grid-area:chest}.equipment-slot[data-slot=gloves]{grid-area:gloves}.equipment-slot[data-slot=ring1]{grid-area:ring1}.equipment-slot[data-slot=pants]{grid-area:pants}.equipment-slot[data-slot=ring2]{grid-area:ring2}.equipment-slot[data-slot=shoes]{grid-area:shoes}.slot-item{width:32px;height:32px;background:var(--bg-tertiary);border:2px solid #000;display:flex;align-items:center;justify-content:center;margin-bottom:var(--spacing-sm);transition:all var(--transition-fast);box-shadow:var(--inset-shadow)}.slot-item.empty{opacity:.4}.slot-name{font-size:8px;color:var(--text-secondary);text-align:center;line-height:1;text-transform:uppercase;letter-spacing:.5px;font-family:"Press Start 2P",monospace}.equipment-slot.drag-over{border-color:var(--border-highlight);background:linear-gradient(135deg,var(--bg-parchment),var(--bg-accent));box-shadow:var(--raised-border),var(--blue-glow);transform:scale(1.02)}.equipment-slot.compatible-highlight{border-color:var(--border-highlight);background:linear-gradient(135deg,var(--bg-parchment),var(--bg-accent));box-shadow:var(--raised-border);animation:equipmentPulse 1.5s ease-in-out infinite}.equipment-slot.slot-invalid{border-color:#ff4d4f;background:linear-gradient(135deg,rgba(255,77,79,.15),var(--bg-panel));box-shadow:0 0 10px #ff4d4f80}.equipment-slot.slot-occupied{border-color:#ffd54f;box-shadow:0 0 12px #ffd54fbf,var(--raised-border)}@keyframes equipmentPulse{0%,to{box-shadow:var(--blue-glow);transform:scale(1)}50%{box-shadow:0 0 16px var(--border-highlight);transform:scale(1.02)}}.inventory-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);flex-shrink:0}.inventory-info{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;color:var(--text-secondary);font-weight:700;font-family:"Press Start 2P",monospace}.coin-pouch{display:flex;align-items:center;gap:4px;padding:4px 8px;background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);border-radius:var(--radius-sm);color:var(--text-primary);font-family:"Press Start 2P",monospace;font-size:10px;box-shadow:var(--raised-border)}.coin-pouch svg{width:14px;height:14px;color:#d4af37}.inventory-header .trash-can.header-btn{width:24px;height:24px;padding:0;display:grid;place-items:center;font-size:12px;color:var(--text-primary)}.inventory-header .trash-can.header-btn.drag-over{background:linear-gradient(135deg,rgba(255,77,79,.15),var(--bg-panel));border-color:#ff4d4f;color:#ff4d4f;box-shadow:0 0 0 2px #ff4d4f59 inset,var(--raised-border);transform:translateY(-1px) scale(1.05)}@keyframes trashWiggle{0%,to{transform:translateY(-1px) scale(1.05) rotate(0)}25%{transform:translateY(-1px) scale(1.05) rotate(1.2deg)}75%{transform:translateY(-1px) scale(1.05) rotate(-1.2deg)}}.inventory-header .trash-can.header-btn.drag-over{animation:trashWiggle .26s ease-in-out infinite}.capacity{background:var(--bg-primary);padding:6px 12px;border:2px solid var(--warm-beige);color:var(--warm-beige);text-shadow:var(--warm-shadow);box-shadow:var(--vintage-shadow);border-radius:var(--radius-sm)}.inventory-grid{display:grid;gap:2px;background:transparent;padding:var(--spacing-xs);border:2px solid var(--border-primary);margin:0;box-shadow:var(--sunken-border),var(--inset-shadow);grid-template-columns:repeat(4,56px);grid-template-rows:repeat(4,56px);width:auto;height:auto;pointer-events:auto}.slot{width:56px;height:56px}.cell{width:56px;height:56px;background:var(--bg-panel);border:1px solid var(--border-primary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-fast);position:relative;box-shadow:var(--sunken-border);pointer-events:auto}.cell.empty{background:var(--bg-accent);opacity:.7}.cell.occupied{background:var(--bg-panel)}.slot.drag-over .cell{background:var(--bg-parchment);border-color:var(--border-highlight);box-shadow:var(--raised-border)}.slot.drag-over{outline:2px dashed rgba(255,255,255,.4);outline-offset:-2px}.item{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;cursor:grab;transition:all var(--transition-fast);z-index:2}.item:active{cursor:grabbing;transform:scale(.95)}.item:hover{transform:none}.inventory-grid .item svg{width:100%;height:100%;image-rendering:pixelated}.inventory-grid .item svg{filter:none!important}.inventory-grid .item svg use{stroke:none!important}.item{width:100%;height:100%;display:flex;align-items:center;justify-content:center;cursor:grab;transition:all var(--transition-fast)}.item:hover{transform:scale(1.05)}.item.dragging{opacity:.5;transform:scale(.9)}.badge{position:absolute;bottom:2px;right:2px;background:linear-gradient(135deg,var(--pastel-blue),var(--pastel-purple));color:var(--bg-primary);padding:1px 3px;font-size:.5rem;font-weight:700;line-height:1;min-width:14px;text-align:center;border:1px solid var(--pastel-blue);box-shadow:var(--glow-sm) var(--pastel-blue);font-family:"Press Start 2P",monospace}.item-count{position:absolute;bottom:2px;right:2px;color:#fff;font-size:10px;font-weight:700;line-height:1;text-shadow:1px 1px 1px rgba(0,0,0,.8);font-family:"Press Start 2P",monospace;pointer-events:none}.skills-layout{max-width:900px;margin:0 auto}.skills-layout h2{display:none}.skill-category{margin-bottom:var(--spacing-xl);background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);padding:var(--spacing-lg);box-shadow:var(--raised-border),var(--medieval-shadow)}.category-title{margin:0 0 var(--spacing-lg) 0;color:#fff;font-size:14px;text-transform:uppercase;letter-spacing:1px;font-family:"Press Start 2P",monospace;text-shadow:var(--medieval-shadow);border-bottom:1px solid var(--border-secondary);padding-bottom:var(--spacing-sm)}.skills-grid{display:grid;gap:var(--spacing-sm)}.all-skills{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));max-width:640px;margin:0 auto}.skill-card{background:var(--bg-tertiary);border:none;padding:6px;transition:all var(--transition-medium);box-shadow:var(--medieval-shadow);position:relative;overflow:hidden;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;min-height:64px;aspect-ratio:auto;cursor:pointer;--progress-pct: 0%;--fill-start: var(--stamina-color);--fill-end: var(--mana-color)}.skill-card:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--pastel-blue),transparent);box-shadow:var(--glow-sm) var(--pastel-blue)}.skill-card:after{content:"";position:absolute;top:0;left:0;height:100%;width:var(--progress-pct);z-index:0;background:linear-gradient(90deg,var(--fill-start),var(--fill-end));opacity:.3}.skill-card:hover{box-shadow:var(--raised-border);transform:translateY(-2px) scale(1.02)}.skill-card.primary{border-color:var(--warm-peach);background:linear-gradient(135deg,var(--bg-panel),rgba(255,202,179,.1));box-shadow:var(--warm-glow)}.skill-icon-large{width:36px;height:36px;margin:0;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}.skill-icon-large svg{width:100%;height:100%;color:var(--text-accent);image-rendering:pixelated}.skill-icon-large svg.fish-animated{animation:fishBob 1.6s ease-in-out infinite}@keyframes fishBob{0%,to{transform:translateY(0)}50%{transform:translateY(-2px)}}.skill-icon-large svg *{stroke:none}.skill-level-badge{position:absolute;right:6px;top:4px;font-size:12px;line-height:1;background:#0009;color:#fff;padding:2px 4px;border-radius:3px;z-index:1;font-family:"Press Start 2P",monospace}.skill-card[data-skill=fishing]{--fill-start: #2196F3;--fill-end: #64B5F6}.skill-card[data-skill=foraging]{--fill-start: #2E7D32;--fill-end: #66BB6A}.skill-card[data-skill=exploration]{--fill-start: #00897B;--fill-end: #4DB6AC}.skill-card[data-skill=attack]{--fill-start: #E53935;--fill-end: #FF7043}.skill-card[data-skill=strength]{--fill-start: #FB8C00;--fill-end: #FFD54F}.skill-card[data-skill=defense]{--fill-start: #1E88E5;--fill-end: #90CAF9}@keyframes skillIconPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.skill-info h3{margin:0;color:var(--text-primary);font-size:.9rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;font-family:"Press Start 2P",monospace}.skill-level{color:var(--text-secondary);font-size:.7rem;font-weight:700;font-family:"Press Start 2P",monospace}.skill-progress-bar{width:100%;height:4px;background:var(--bg-accent);border:1px solid var(--border-primary);box-shadow:inset 0 1px 3px #0006;border-radius:var(--radius-sm);overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,#4caf50,#81c784);transition:width var(--transition-medium);width:0%;box-shadow:var(--warm-shadow);position:relative;border-radius:var(--radius-sm)}.progress-fill:after{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.5),transparent)}.progress-text{font-size:.6rem;color:var(--text-secondary);text-align:center;font-weight:700;font-family:"Press Start 2P",monospace}.ctx-menu{position:absolute;background:linear-gradient(135deg,var(--bg-panel),var(--bg-secondary));border:2px solid var(--warm-peach);padding:var(--spacing-xs);box-shadow:var(--warm-shadow);z-index:1000;display:none;border-radius:var(--radius-sm)}.ctx-menu button{background:none;border:none;padding:var(--spacing-sm) var(--spacing-md);color:var(--text-primary);cursor:pointer;transition:all var(--transition-fast);width:100%;text-align:left;font-weight:700;font-family:"Press Start 2P",monospace;text-transform:uppercase;letter-spacing:.5px}.ctx-menu button:hover{background:var(--bg-accent);color:var(--warm-peach)}.tooltip{position:absolute;background:var(--bg-primary);color:var(--text-primary);padding:var(--spacing-sm);border-radius:var(--radius-sm);font-size:.7rem;font-family:"Press Start 2P",monospace;pointer-events:none;z-index:1000;border:1px solid var(--border-primary);box-shadow:var(--vintage-shadow);max-width:250px;line-height:1.4;white-space:pre-wrap;opacity:0;transition:opacity .15s ease}.tooltip.visible{opacity:1}#inv-menu{transition:none!important;animation:none!important}.chat-panel{width:360px;max-width:50vw;display:none}.chat-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-sm) var(--spacing-md)}.chat-messages{height:220px;overflow:auto;padding:var(--spacing-sm) var(--spacing-md);display:flex;flex-direction:column;gap:6px}.chat-message{display:flex;gap:6px;font-family:VT323,monospace;font-size:16px;line-height:1.3}.chat-message.system{font-style:italic;opacity:.8}.chat-time{color:var(--text-muted);font-size:14px;flex-shrink:0}.chat-name{color:var(--warm-peach);font-weight:700;flex-shrink:0}.chat-text{color:var(--text-primary);word-wrap:break-word}.chat-system{color:var(--text-muted);font-style:italic}.chat-row{display:flex;gap:6px;font-family:VT323,monospace;font-size:16px}.chat-name{color:var(--warm-peach)}.chat-text{color:var(--text-primary)}.chat-input-row{display:flex;gap:8px;padding:var(--spacing-sm) var(--spacing-md) var(--spacing-md)}.chat-input-row input[type=text]{flex:1;min-width:0}#inv-menu.visible{opacity:1;transform:none}.location-header{margin-bottom:var(--spacing-lg);text-align:center;padding:var(--spacing-md);background:linear-gradient(135deg,var(--bg-secondary),var(--bg-accent));border-radius:var(--radius-md);border:1px solid var(--border-primary);box-shadow:var(--vintage-shadow)}.location-header h2{color:var(--warm-peach);font-size:1.2rem;margin-bottom:var(--spacing-sm);text-shadow:2px 2px 0px var(--shadow-color)}.location-description{color:var(--text-secondary);font-size:.8rem;line-height:1.4;font-family:VT323,monospace;margin:0}.exploration-progress{margin-top:var(--spacing-sm)}.exploration-pulse{width:100%;height:8px;background:var(--bg-primary);border-radius:var(--radius-sm);border:1px solid var(--border-primary);overflow:hidden;position:relative}.exploration-pulse-fill{width:100%;height:100%;background:linear-gradient(90deg,var(--warm-peach),var(--warm-coral),var(--warm-peach));border-radius:var(--radius-sm);animation:explorationPulse 2s ease-in-out infinite}@keyframes explorationPulse{0%,to{opacity:.3;transform:scaleX(.8)}50%{opacity:1;transform:scaleX(1.1)}}@media (max-width: 768px){.game-header{flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-sm)}.header-left{flex-direction:column;gap:var(--spacing-md)}.player-vitals{flex-wrap:wrap;justify-content:center}.character-layout{grid-template-columns:1fr;gap:var(--spacing-md)}.skills-grid{grid-template-columns:1fr}.main-nav{overflow-x:auto}.activity-controls{flex-direction:column;align-items:stretch;gap:var(--spacing-md)}.draggable-panel{position:fixed!important;top:0!important;left:0!important;right:0!important;bottom:0!important;width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;border-radius:0!important;z-index:50000!important;transform:none!important}.draggable-panel .drag-handle{position:sticky;top:0;background:var(--bg-panel);border-bottom:1px solid var(--border-primary);z-index:1;padding:12px 16px;display:flex;justify-content:space-between;align-items:center}.draggable-panel .drag-handle:after{content:"✕";cursor:pointer;font-size:18px;color:var(--text-secondary);padding:4px 8px;border-radius:4px;transition:all var(--transition-fast)}.draggable-panel .drag-handle:after:hover{background:var(--bg-hover);color:var(--text-primary)}.chat-panel{min-width:100vw!important}.chat-container{flex-direction:column;height:calc(100vh - 120px)}.chat-sidebar{width:100%!important;border-left:none!important;border-top:1px solid var(--border-primary)!important;padding-left:0!important;padding-top:12px!important;max-height:200px;overflow-y:auto}.chat-main{flex:1;min-height:0}.chat-messages{height:calc(100% - 60px)}.inventory-panel{padding:0!important}.inventory-grid{grid-template-columns:repeat(auto-fill,minmax(50px,1fr))!important;gap:8px!important;padding:16px!important}#panel-zones{padding:0!important;overflow:hidden!important}#panel-zones .drag-handle{margin-bottom:0!important}.zones-list{grid-template-columns:1fr!important;gap:8px!important;max-width:none!important;padding:16px!important;height:calc(100vh - 80px)!important;overflow-y:auto!important;box-sizing:border-box}.zone-card{grid-template-columns:40px 1fr!important;padding:12px!important;gap:12px!important;min-height:auto!important;box-sizing:border-box!important;width:100%!important;max-width:none!important}.zone-card .zone-icon{align-self:flex-start!important}.zone-card .zone-icon svg{width:32px!important;height:32px!important}.zone-card .zone-content{min-width:0!important;flex:1!important;width:100%!important}.zone-card .zone-desc,.zone-card .zone-req{white-space:normal!important;overflow:visible!important;text-overflow:clip!important;font-size:12px!important;line-height:1.4!important;word-wrap:break-word!important;max-width:100%!important}.zone-card .zone-title{display:block!important;font-size:14px!important;font-weight:700!important;margin-bottom:4px!important;color:var(--text-primary)!important;word-wrap:break-word!important}.zone-card .zone-controls{margin-top:8px!important;flex-wrap:wrap!important;width:100%!important}.zone-card .zone-action{padding:6px 12px!important;font-size:12px!important;min-height:32px!important;white-space:nowrap!important;flex-shrink:0!important}.zone-card .tool-indicator{font-size:11px!important;margin-top:4px!important;word-wrap:break-word!important}.zone-card .zone-popover{position:fixed!important;left:8px!important;right:8px!important;top:auto!important;bottom:8px!important;width:auto!important;max-width:none!important;max-height:40vh!important;overflow-y:auto!important;z-index:60000!important}.zone-popover .catch-row{padding:4px 0!important}.zone-popover .pop-title{font-size:12px!important;margin-bottom:8px!important}.zone-popover .catch-name,.zone-popover .catch-req{font-size:11px!important}.equipment-paperdoll,.skills-grid{grid-template-columns:repeat(2,1fr)!important;gap:12px!important;padding:16px!important}.bottom-ui-panel{position:fixed;bottom:0;left:0;right:0;transform:none;width:100%;border-radius:0;border-left:none;border-right:none;padding:8px 4px;justify-content:space-around;box-shadow:0 -2px 10px #0000004d}.ui-panel-btn{min-width:auto;padding:8px 4px;font-size:9px}.ui-panel-btn svg{width:18px;height:18px}.ui-panel-btn span{font-size:9px}.collect-all-btn{min-width:44px!important;min-height:44px!important;padding:8px!important}.collect-all-btn svg{width:24px!important;height:24px!important}.explore-toggle{min-width:60px!important;min-height:60px!important;font-size:14px!important}.explore-toggle svg{width:28px!important;height:28px!important}}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:var(--bg-primary)}::-webkit-scrollbar-thumb{background:var(--pastel-blue);box-shadow:var(--glow-sm) var(--pastel-blue)}::-webkit-scrollbar-thumb:hover{background:var(--pastel-purple);box-shadow:var(--glow-sm) var(--pastel-purple)}.vector-background{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:0;background-repeat:no-repeat}.beach-vector{background-image:var(--beach-bg-url, url(./assets/beach-background.jpg));background-size:cover!important;background-position:center!important;background-repeat:no-repeat!important}body[data-theme=dark] .beach-vector{background-image:var(--beach-bg-url-dark, var(--beach-bg-url, url(./assets/beach-background.jpg)));background-size:cover!important;background-position:center!important;background-repeat:no-repeat!important}.forest-vector{background:linear-gradient(180deg,#2f4f2f,#355e3b,#2f4f2f);background-image:var(--forest-bg-url, url(./assets/forest-background.png));background-size:100% 100%!important;background-position:center!important;background-repeat:no-repeat!important}.mountain-vector{background:linear-gradient(180deg,#4682b4,#708090,#696969);background-image:var(--mountain-bg-url, url(./assets/mountain-background.png));background-size:100% 100%!important;background-position:center!important;background-repeat:no-repeat!important}.desert-vector{background:linear-gradient(180deg,#f4a460,#deb887,tan);background-image:var(--desert-bg-url, url(./assets/desert-background.png));background-size:100% 100%!important;background-position:center!important;background-repeat:no-repeat!important}@media (max-width: 768px){.vector-background{background-size:cover;background-position:center bottom}}@media (min-width: 1200px){.vector-background{background-size:100% 100%}}.bottom-ui-panel{position:fixed;bottom:0;left:50%;transform:translate(-50%);background:var(--bg-panel);border:var(--border-width) solid var(--border-primary);border-bottom:none;border-radius:12px 12px 0 0;padding:8px 16px;display:flex;gap:12px;z-index:20000;box-shadow:var(--raised-border),0 -4px 12px #0000004d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.ui-panel-btn{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 12px;background:transparent;border:var(--border-width) solid transparent;border-radius:8px;cursor:pointer;transition:all var(--transition-fast);position:relative;min-width:60px}.ui-panel-btn svg{width:20px;height:20px;color:var(--text-secondary);transition:color var(--transition-fast)}.ui-panel-btn span{font-size:10px;color:var(--text-secondary);font-weight:500;transition:color var(--transition-fast)}.ui-panel-btn:hover{background:var(--bg-hover);border-color:var(--border-highlight)}.ui-panel-btn:hover svg,.ui-panel-btn:hover span{color:var(--text-primary)}.ui-panel-btn.active{background:var(--bg-active);border-color:var(--border-highlight)}.ui-panel-btn.active svg,.ui-panel-btn.active span{color:var(--text-highlight)}.ui-panel-btn .notification-badge{position:absolute;top:2px;right:4px;min-width:16px;height:16px;background:#fbbf24;border-radius:8px;border:1px solid var(--bg-panel);display:none;font-size:10px;font-weight:700;color:#1f2937;font-family:var(--font-ui);text-align:center;line-height:14px;padding:0 4px;box-sizing:border-box;animation:pulse-notification 1.5s infinite;z-index:10;text-shadow:0 0 2px rgba(255,255,255,.8)}.ui-panel-btn.has-notification .notification-badge{display:flex;align-items:center;justify-content:center}@keyframes pulse-notification{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.8}}.chat-panel{min-width:320px;max-width:600px;width:auto}.chat-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.chat-header h2{margin:0;flex:1}.players-toggle-btn{display:flex;align-items:center;gap:6px;padding:6px 10px;background:var(--bg-hover);border:1px solid var(--border-primary);border-radius:6px;color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast);font-size:11px;white-space:nowrap}.players-toggle-btn:hover{background:var(--bg-active);border-color:var(--border-highlight);color:var(--text-primary);transform:translateY(-1px)}.players-toggle-btn.active{background:var(--bg-active);border-color:var(--border-highlight);color:var(--text-highlight);box-shadow:0 0 0 1px var(--border-highlight)}.players-toggle-btn svg{width:14px;height:14px}.players-count{background:var(--bg-panel);border-radius:10px;padding:2px 6px;font-size:10px;font-weight:700;min-width:16px;text-align:center}.chat-container{display:flex;gap:12px;height:350px;transition:all var(--transition-fast)}.chat-main{flex:1;display:flex;flex-direction:column;transition:all var(--transition-fast)}.chat-sidebar{width:140px;border-left:1px solid var(--border-primary);padding-left:12px;transition:all var(--transition-fast)}.chat-sidebar.hidden{display:none!important}.chat-sidebar h3{font-size:12px;color:var(--text-secondary);margin:0 0 8px;text-transform:uppercase;letter-spacing:.5px}.online-players-list{display:flex;flex-direction:column;gap:4px}.player-item{padding:4px 8px;background:var(--bg-hover);border-radius:4px;font-size:11px;color:var(--text-primary);border:1px solid var(--border-primary)}.player-item.current-player{background:var(--bg-active);color:var(--text-highlight);border-color:var(--border-highlight)}.chat-messages{flex:1;overflow-y:auto;padding:8px;background:var(--bg-primary);border:1px solid var(--border-primary);border-radius:4px;margin-bottom:8px}.content-panel{position:relative;overflow:hidden}.content-panel:before{content:none}.content-panel .panel-inner{position:static;z-index:auto}.activity-section{background:#f4f1e8e6!important;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.auth-modal{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000059;display:grid;place-items:center;z-index:30000}.auth-dialog{background:var(--bg-panel);border:var(--border-thick) solid var(--border-primary);box-shadow:var(--medieval-shadow),0 0 30px #0003;padding:32px;width:380px;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.auth-dialog h2{margin:0 0 24px;text-align:center;color:var(--text-primary);font-size:24px;font-weight:600}.auth-row{margin-bottom:16px}.auth-row input{width:100%;padding:12px 16px;border:var(--border-width) solid var(--border-secondary);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:14px;transition:all .2s ease}.auth-row input:focus{outline:none;border-color:var(--border-highlight);background:var(--bg-panel);box-shadow:0 0 0 3px #3b82f61a}.auth-actions{display:flex;gap:12px;align-items:center;margin-top:24px}.auth-actions .primary-btn{flex:1;padding:12px 20px;font-size:14px;font-weight:500}.auth-status{margin-top:16px;font-size:13px;color:var(--text-secondary);text-align:center;min-height:20px}body[data-theme=dark] .activity-section{background:#1a1a1ae6!important}body[data-theme=dark] .tree{background:linear-gradient(to bottom,#1b4332,#1b4332 60%,#5d4e37 60%,#5d4e37)}body[data-theme=dark] .tree:before{background:radial-gradient(ellipse at center,#2d5a27,#1b4332)}body[data-theme=dark] .tree:after{background:radial-gradient(ellipse at center,#52734d,#2d5a27)}body[data-theme=dark] .bush{background:linear-gradient(to bottom,#2d5a27,#1b4332)}body[data-theme=dark] .bush:before{background:#52734d}.tab-icon,.skill-icon,.vital-bar:before{image-rendering:pixelated}
